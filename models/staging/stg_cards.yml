version: 2

models:
  - name: stg_cards
    description: "Vista staging que contiene todas las cartas del dataset AllPrintings. Información base de cada carta."
    columns:
      - name: card_id
        description: "Identificador único (relativo) de la carta (mtgjson_id o scryfall_id)."
        # no se aplica unique porque en MTGJSON muchas versiones de cartas comparten card_id.
        tests:
          - not_null
      - name: set_code
        description: "Código del set al que pertenece la carta."
        tests:
          - not_null

      - name: card_name
        description: "Nombre oficial de la carta."
        tests:
          - not_null

      - name: type_line
        description: "Cadena con el tipo completo de la carta (ej: Legendary Creature — Elf Druid)."
        tests:
          - not_null

      - name: mana_cost
        description: "Coste de maná en formato compacto (ej: '{2}{G}')."

      - name: rarity
        description: "Rareza de la carta (common, uncommon, rare, mythic, special)."

      - name: set_code_card
        description: "Código del set dentro del campo `card_object`, redundante pero útil para validación."

      - name: colors_array
        description: "Array con los colores principales de la carta. Usado para stg_card_colors."

      - name: colors_string
        description: "Colores de la carta formateados como string (ej: 'Red, Green')."

      - name: power
        description: "Poder base de la criatura, si aplica (solo para creature cards)."

      - name: toughness
        description: "Resistencia base de la criatura, si aplica (solo para creature cards)."

      - name: flavor_text
        description: "Texto de ambientación que aparece en la carta."

      - name: scryfall_id
        description: "Identificador de la carta en la API de Scryfall."
        tests:
          - not_null

      - name: mtgjsonv4_id
        description: "Identificador de la carta en el esquema v4 de mtgjson."
        tests:
          - not_null